package com.drexel.wheeloflunch;

import android.app.Activity;
import android.os.Bundle;
import android.view.Menu;
import android.view.View;
import android.widget.EditText;

import com.cloudmine.api.CMApiCredentials;
import com.cloudmine.api.SimpleCMObject;
import com.cloudmine.api.rest.callbacks.ObjectModificationResponseCallback;
import com.cloudmine.api.rest.response.ObjectModificationResponse;

public class NewPlaceActivity extends Activity 
{
	private EditText nameTxt = null;
	private EditText ratingTxt = null;
	private EditText typeTxt = null;
	private EditText latTxt = null;
	private EditText longTxt = null;
	
	private static final String APP_ID = "....";
	private static final String API_KEY = "...";
	
	@Override
	protected void onCreate(Bundle savedInstanceState) 
	{
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_newplace);
		
		// initialize CloudMine library
	    CMApiCredentials.initialize(APP_ID, API_KEY, getApplicationContext());
	}
	public void newPlace(View view)
	{
		nameTxt = (EditText)view.findViewById(R.id.nameTxt);
		ratingTxt = (EditText)view.findViewById(R.id.regBtn);
		typeTxt = (EditText)view.findViewById(R.id.typeTxt);
		latTxt = (EditText)view.findViewById(R.id.latTxt);
		longTxt = (EditText)view.findViewById(R.id.longTxt);
		
		// create a honda civic
	    SimpleCMObject place = new SimpleCMObject();
	    place.add("name", nameTxt.getText());
	    place.add("rating", ratingTxt.getText());
	    place.add("type", typeTxt.getText());
	    place.add("lat", latTxt.getText());
	    place.add("long", longTxt.getText());
	 
	    place.save(new ObjectModificationResponseCallback() {
	        public void onCompletion(ObjectModificationResponse response) {
	            System.out.println("Place was saved: " + response.wasSuccess());
	        }
	    });
		System.out.println("Place");
	}
	@Override
	public boolean onCreateOptionsMenu(Menu menu) 
	{
		// Inflate the menu; this adds items to the action bar if it is present.
		getMenuInflater().inflate(R.menu.newplace, menu);
		return true;
	}

}
